

const products = {
    school: [
        { name: "AGA KHAN SCHOOL (BOYS)", price: "PKR 2100", img: "assets/images/product imgs/school/school uniform 1.jpg", gender: "male" },
        { name: "AGA KHAN SCHOOL (GIRLS)", price: "PKR 2200", img: "assets/images/product imgs/school/school uniform 2.jpg", gender: "female" },

        { name: "FOX VALLEY SCHOOL (BOYS)", price: "PKR 2000", img: "assets/images/product imgs/school/school uniform 3.jpg", gender: "male" },
        { name: "FOX VALLEY SCHOOL (GIRLS)", price: "PKR 2000", img: "assets/images/product imgs/school/school uniform 4.jpg", gender: "female" },

        { name: "HAPPY PALACE GRAMMER SCHOOL (GIRLS)", price: "PKR 2100", img: "assets/images/product imgs/school/school uniform 5.jpg", gender: "female" },
        { name: "HAPPY PALACE GRAMMER SCHOOL (BOYS)", price: "PKR 2050", img: "assets/images/product imgs/school/school uniform 6.jpg", gender: "male" },

        { name: "SHAHWILAYAT PUBLIC SCHOOL (BOYS)", price: "PKR 1900", img: "assets/images/product imgs/school/school uniform 7.jpg", gender: "male" },
        { name: "SHAHWILAYAT PUBLIC SCHOOL (GIRLS)", price: "PKR 1900", img: "assets/images/product imgs/school/school uniform 8.jpg", gender: "female" },

        { name: "ST. PATRICK'S HIGH SCHOOL (GIRL)", price: "PKR 1900", img: "assets/images/product imgs/school/school uniform 9.jpg", gender: "female" },
        { name: "ST. PATRICK'S HIGH SCHOOL (BOYS)", price: "PKR 1900", img: "assets/images/product imgs/school/school uniform 10.jpg", gender: "male" },

        { name: "ST. PHILIP'S HIGH SCHOOK (BOYS)", price: "PKR 1800", img: "assets/images/product imgs/school/school uniform 11.jpg", gender: "male" },
        { name: "ST. PHILIP'S HIGH SCHOOK (GIRLS)", price: "PKR 1800", img: "assets/images/product imgs/school/school uniform 12.jpg", gender: "female" },
    ],
    colleges: [
        { name: "AGA KHAN COLLEGE (BOYS)", price: "PKR 2000", img: "assets/images/product imgs/colleges/college uniform 1.jpg", gender: "male" },
        { name: "AGA KHAN COLLEGE (GIRLS)", price: "PKR 2000", img: "assets/images/product imgs/colleges/college uniform 2.jpg", gender: "female" },

        { name: "HAPPY PALACE GRAMMER COLLEGE (GIRLS)", price: "PKR 1700", img: "assets/images/product imgs/colleges/college uniform 3.jpg", gender: "female" },
        { name: "HAPPY PALACE GRAMMER COLLEGE (BOYS)", price: "PKR 1600", img: "assets/images/product imgs/colleges/college uniform 4.jpg", gender: "male" },

        { name: "COMMECS COLLEGE (BOYS)", price: "PKR 1300", img: "assets/images/product imgs/colleges/college uniform 5.jpg", gender: "male" },
        { name: "COMMECS COLLEGE (GIRLS)", price: "PKR 1300", img: "assets/images/product imgs/colleges/college uniform 6.jpg", gender: "female" },

        { name: "MEHRAN COLLEGE (BOYS)", price: "PKR 1250", img: "assets/images/product imgs/colleges/college uniform 7.jpg", gender: "male" },
        { name: "MEHRAN COLLEGE (GIRLS)", price: "PKR 1200", img: "assets/images/product imgs/colleges/college uniform 8.jpg", gender: "female" },

        { name: "ZIAUDDIN COLLEGE (BOYS)", price: "PKR 1300", img: "assets/images/product imgs/colleges/college uniform 9.jpg", gender: "male" },
        { name: "ZIAUDDIN COLLEGE (GIRLS)", price: "PKR 1350", img: "assets/images/product imgs/colleges/college uniform 10.jpg", gender: "female" },

        { name: "SHAHCOMMERCE COLLEGE (BOYS)", price: "PKR 1400", img: "assets/images/product imgs/colleges/college uniform 11.jpg", gender: "male" },
        { name: "SHAHCOMMERCE COLLEGE (GIRLS)", price: "PKR 1400", img: "assets/images/product imgs/colleges/college uniform 12.jpg", gender: "female" },

    ],
    winter: [
        { name: "MAROON SWEATER FOR BOYS", price: "PKR 1000", img: "assets/images/product imgs/winters/sweater 1.jpg", gender: "male" },
        { name: "BLUE SWEATER FOR BOYS", price: "PKR 1000", img: "assets/images/product imgs/winters/sweater 2.jpg", gender: "male" },
        { name: "GREEn SWEATER FOR BOYS", price: "PKR 1000", img: "assets/images/product imgs/winters/sweater 3.jpg", gender: "male" },
        { name: "BLUE SWEATER FOR GIRLS", price: "PKR 1000", img: "assets/images/product imgs/winters/sweater 4.jpg", gender: "female" },
        { name: "DARK MAROON SWEATER FOR GIRLS", price: "PKR 1000", img: "assets/images/product imgs/winters/sweater 5.jpg", gender: "female" },
        { name: "NAVY BLUE SWEATER FOR GIRLS", price: "PKR 1000", img: "assets/images/product imgs/winters/sweater 6.jpg", gender: "female" },
    ],
    accessories: [
        { name: "P.T. JACKET", price: "PKR 600", img: "assets/images/product imgs/accessories/pt-jacket.jpg" },
        { name: "P.T. SUIT TROUZER", price: "PKR 500", img: "assets/images/product imgs/accessories/pt-suit-trouzer.jpg" },

        { name: "P.T. SHIRT", price: "PKR 400", img: "assets/images/product imgs/accessories/pt-suit-shirt.jpg" },
        { name: "P.T. T-SHIRT", price: "PKR 400", img: "assets/images/product imgs/accessories/pt-t-shirt-1.jpg" },
        
        { name: "P.T. TROUZER", price: "PKR 300", img: "assets/images/product imgs/accessories/pt-trouzer-1.jpg" },

        { name: "P.T. TROUZER GRAY", price: "PKR 300", img: "assets/images/product imgs/accessories/pt-trouzer-2.jpg" },
        { name: "SCOUT BADGE", price: "PKR 250", img: "assets/images/product imgs/accessories/badge.jpg" },

        { name: "BLACK BELT", price: "PKR 350", img: "assets/images/product imgs/accessories/belt 1.jpg" },
        { name: "BROWN BELT", price: "PKR 350", img: "assets/images/product imgs/accessories/belt 2.jpg" },

        { name: "RED PREFECT SASH", price: "PKR 200", img: "assets/images/product imgs/accessories/sash 1.jpg" },
        { name: "NAVY BLUE PREFECT SASH", price: "PKR 200", img: "assets/images/product imgs/accessories/sash 2.jpg" },

        { name: "BLACK SOCKS", price: "PKR 150", img: "assets/images/product imgs/accessories/socks 1.jpg" },
        { name: "BROWN SOCKS", price: "PKR 150", img: "assets/images/product imgs/accessories/socks 2.jpg" },
        
        { name: "GRAY SOCKS", price: "PKR 150", img: "assets/images/product imgs/accessories/socks 3.jpg" },

    ],
    bags_bottle: [
        { name: "CALVIN KLEIN SCHOOl BAG", price: "PKR 4000", img: "assets/images/product imgs/bags_bottles/bag 1.jpg" },
        { name: "CAMEL MOUNTAIN SCHOOl BAG", price: "PKR 5500", img: "assets/images/product imgs/bags_bottles/bag 2.jpg" },
        
        { name: "CAR TROLLEY SCHOOl BAG", price: "PKR 6000", img: "assets/images/product imgs/bags_bottles/bag 3.jpg" },
        { name: "ROYAL MOUNTAIN SCHOOL BAG", price: "PKR 5000", img: "assets/images/product imgs/bags_bottles/bag 4.jpg" },

        { name: "METAL WATER BOTTLE - GOLD", price: "PKR 2000", img: "assets/images/product imgs/bags_bottles/bottle 1.jpg" },
        { name: "METAL WATER BOTTLE - AQUA BLUE", price: "PKR 2000", img: "assets/images/product imgs/bags_bottles/bottle 2.jpg" },

        { name: "METAL WATER BOTTLE - GRADIENT", price: "PKR 2000", img: "assets/images/product imgs/bags_bottles/bottle 3.jpg" },


    ]

};


let currentCategory = 'all';

document.querySelectorAll('.filter-btn').forEach(button => {
    button.addEventListener('click', function () {
        const category = this.getAttribute('data-category');
        const isGenderFilter = ['male', 'female'].includes(category);

        if (isGenderFilter) {
            displayProducts(currentCategory, category);
        } else {
            currentCategory = category
            displayProducts(currentCategory, 'all');
        }
        updateFilterButtons(category);
    });
});


function filterProducts() {
    const query = document.getElementById("search-bar").value.toLowerCase();
    const products = document.querySelectorAll(".product"); 

    products.forEach(product => {
        const name = product.querySelector(".product-name").innerText.toLowerCase(); 
        if (name.includes(query)) {
            product.style.display = "flex";
        } else {
            product.style.display = "none"; 
        }
    });
}



document.querySelectorAll("button").forEach(btn => {
    btn.addEventListener('click', function() {
        document.querySelectorAll("button").forEach(b => b.classList.remove('active'));
        this.classList.add('active');
    });
});

function displayProducts(category = 'all', gender = 'all', searchQuery = '') {
    const productList = document.getElementById('product-list');
    productList.innerHTML = '';

    const loader = document.createElement('div');
    loader.classList.add('loader');
    loader.innerHTML = `<div class="spinner-border text-primary spinner" role="status">
      <span class="sr-only">Loading...</span>
    </div>`;
    productList.appendChild(loader);

    setTimeout(() => {
        loader.remove();

        let selectedProducts = [];

        // Filter products
        if (category === 'all') {
            Object.keys(products).forEach(cat => {
                selectedProducts = selectedProducts.concat(products[cat]);
            });
        } else {
            selectedProducts = products[category];
        }

        // Filter by gender
        if (gender !== 'all') {
            selectedProducts = selectedProducts.filter(product => product.gender === gender);
        }

        // Filter by search query
        if (searchQuery !== '') {
            selectedProducts = selectedProducts.filter(product => product.name.toLowerCase().includes(searchQuery));
        }

        // Display products
        selectedProducts.forEach(product => {
            productList.innerHTML += `
                <div class="col-md-4 product">
                    <div class="card mb-4">
                        <img src="${product.img}" class="card-img-top product-img" alt="${product.name}">
                        <div class="card-body">
                            <h5 class="card-title product-name">${product.name}</h5>
                            <p class="card-text">${product.price}</p>
                        </div>
                    </div>
                </div>
            `;
        });
    }, 1000); // Simulate loading time
}


window.onload = function() {
    displayProducts('all', 'all');
};
